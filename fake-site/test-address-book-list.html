<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../public/bootstrap-4.4.1-dist/css/bootstrap.css">
    <link rel="stylesheet" href="../public/fontawesome/css/all.css">
    <script src="../public/lib/jquery.js"></script>
    <script src="../public/bootstrap-4.4.1-dist/js/bootstrap.bundle.js"></script>
</head>
<body>

<div class="container">
    <div class="row">
        <div class="col">
            <nav aria-label="Page navigation example">
                <ul class="pagination">
                    <li class="page-item ">
                        <a class="page-link" href="/students/list/1" >1</a>
                    </li>
                    <li class="page-item active">
                        <a class="page-link"  >2</a>
                    </li>
                    <li class="page-item ">
                        <a class="page-link" href="/students/list/3" >3</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <table class="table table-striped table-bordered">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">姓名</th>
            <th scope="col">電郵</th>
            <th scope="col">手機</th>
            <th scope="col">生日</th>
            <th scope="col">住址</th>
        </tr>
        </thead>
        <tbody id="tBody">
        </tbody>
    </table>
</div>

<script>
    const dataRowFn = (obj)=>{
        return `
<tr>
    <td>${obj.cID}</td>
    <td>${obj.cName}</td>
    <td>${obj.cEmail}</td>
    <td>${obj.cPhone}</td>
    <td>${obj.cBirthday}</td>
    <td>${obj.cAddr}</td>
</tr>`;

    };


    fetch('http://localhost:3000/students/list/1')
    .then(r=>r.json())
    .then(obj=>{
        console.log(obj);
        let str = '';
        for(let i of obj.rows){
            str += dataRowFn(i);
        }
        tBody.innerHTML = str;
    })
</script>
</body>
</html>